<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tristan Arbona</title>
  <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Ici on charge dynamiquement le header -->
  <div id="header-placeholder"></div>

  <div class="container">
    <div class="main-content">
      <img src="portrait.jpg" alt="Portrait de Tristan Arbona" />
      <div class="description">
        <h1>Bienvenue</h1>
        <p>Je conçois des sites web professionnels sur mesure, pensés pour valoriser l’identité, les différents travaux et l’expertise de professionnels issus de divers secteurs.<br>
        <br>
        Chaque site est développé de manière personnalisée, avec une attention portée à la lisibilité, à la simplicité d’usage et à l’autonomie du client.</p>
      </div>
    </div>
  </div>

  <!-- Ici on charge dynamiquement le footer -->
  <div id="footer-placeholder"></div>

  <script>
    const siteData = {
      footer: {
        email: "tristan.arbonaa@gmail.com",
        linkedin: "https://www.linkedin.com/in/tristan-arbona-a4829a269/",
        // scholar: "https://scholar.google.com", // <-- retirer la ligne pour masquer ce lien
        cv: "https://drive.google.com/file/d/1iy_p1gbycwSr_AFHjfRfNRiofvvcXwD7/view"
      }
    };

    function loadHTML(id, url) {
      return fetch(url)
        .then(response => {
          if (!response.ok) throw new Error('Erreur de chargement');
          return response.text();
        })
        .then(data => {
          document.getElementById(id).innerHTML = data;
        });
    }

    loadHTML('header-placeholder', 'header.html');

    loadHTML('footer-placeholder', 'footer.html')
      .then(() => {
        const f = siteData.footer;

        ['email', 'linkedin', 'scholar', 'cv'].forEach(id => {
          const el = document.getElementById(id);
          if (el) {
            if (f[id]) {
              if (id === 'email') {
                el.href = "mailto:" + f[id];
                el.textContent = f[id];
              } else {
                el.href = f[id];
              }
              el.style.display = ''; // s'assurer que le lien est visible
            } else {
              el.style.display = 'none'; // masque le lien absent dans le contrôleur
            }
          }
        });
      })
      .catch(error => {
        console.error('Erreur:', error);
      });
  </script>

</body>
</html>
